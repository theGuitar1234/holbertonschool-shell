#!/usr/bin/env bash
# 14-dig_the-data

log_file="apache-access.log"

awk '
  match($0, /^([0-9.]+)[^"]"[^"]" ([0-9][0-9][0-9]) /, a) {
    print a[1], a[2]
  }
' "$log_file" | sort | uniq -c | sort -nr | awk '{ printf "%7d %s %s\n", $1, $2, $3 }'
